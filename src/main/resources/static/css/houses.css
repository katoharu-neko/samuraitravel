/* 2次開発　① 満室イベントの見た目（太字・赤系リボン） */
/* FullCalendar用スタイル */

/* 満室イベントの見た目（赤系ラベル） */
.fc-event.booked-event { border: 0; }
.fc-event.booked-event .fc-event-main { font-weight: 700; }
.booked-label {
  padding: 2px 4px;
  border-radius: 4px;
  background: #fdd;
  border: 1px solid #f99;
  display: inline-block;
}

/* ページ全体の軽いレイアウト調整 */
.container {
  max-width: 700px;
  margin: 40px auto;
  font-family: "Hiragino Kaku Gothic ProN", "メイリオ", sans-serif;
}

.form-group {
  margin: 10px 0;
}

/* カレンダーのレイアウトを調整 */
#calendar {
  max-width: 900px;
  margin: 0 auto 1rem;
  background-color: #fff;
  border-radius: 10px;
}

/* 民宿情報・フォームを中央寄せ */
.container > .col-lg-8,
.container > .col-lg-6 {
  text-align: left;
}

/* レスポンシブ調整 */
@media (max-width: 768px) {
  #calendar {
    width: 100%;
    margin: 20px auto;
  }
}

/* 予約カードを少し広めに（最大 900px） */
@media (min-width: 992px) {
  .samurai-reserve-card {
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
}

/* =========================================================
   FullCalendar（宿詳細ページ #calendar）用の“セル全面表示”スタイル
   ※ ここは #calendar にスコープして他ページに影響させない
   ========================================================= */

/* 日コマを絶対配置の基準に */
#calendar .fc-daygrid-day-frame {
  position: relative;
}

/* --- 他人予約（満室） --- */
#calendar .st-booked-event.fc-daygrid-event {
  position: absolute;
  inset: 4px;                    /* 周囲にわずかに余白 */
  border: 1px solid #e57373;
  background: #ffebee;           /* 薄い赤で塗る（可読性高） */
  box-shadow: none;
  z-index: 1;
}

#calendar .st-booked-event .fc-event-main {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-weight: 700;
  color: #b71c1c;                /* 文字は濃い赤 */
}

/* ラベル用（eventContentで差し込む） */
#calendar .st-fullcell-label {
  width: 100%;
  height: 100%;
  text-align: center;
}

/* --- 自分の予約（青・予約済） --- */
#calendar .st-mine-event.fc-daygrid-event {
  position: absolute;
  inset: 4px;
  border: 1px solid #64b5f6;
  background: #e3f2fd;           /* 薄い青 */
  box-shadow: none;
  z-index: 1;
}

#calendar .st-mine-event .fc-event-main {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-weight: 700;
  color: #0d47a1;                /* 文字は濃い青 */
}

/* 自分予約のラベル */
#calendar .st-minecell-label {
  width: 100%;
  height: 100%;
  text-align: center;
}

/* 当日を含む過去日の陰影（◎ご要望①） */
#calendar .st-past-day {
  opacity: 0.5;              /* うっすら暗く */
  filter: grayscale(20%);
  background-image: repeating-linear-gradient(
    45deg,
    rgba(0,0,0,0.03),
    rgba(0,0,0,0.03) 6px,
    rgba(0,0,0,0.06) 6px,
    rgba(0,0,0,0.06) 12px
  );
}

/* “線だけに見えない”ように最低高さを確保 */
#calendar .fc-daygrid-event.fc-daygrid-block-event {
  min-height: 1.6em;
}

/* セル全面表示のため、宿詳細(#calendar)では安全側にオーバーフローを隠す */
#calendar .fc-daygrid-event {
  overflow: hidden;
}

/* =========================================================
   FullCalendar（予約一覧ページ #myReservationsCalendar）用
   ※ こちらは帯の“ブロック表示”＋“はみ出しOK”に変更
   ========================================================= */

/* 予約一覧のイベントは絶対配置にしない（既定の block のまま） */
/* 重要：overflow を可視化してタイトルを切らない */
#myReservationsCalendar .fc-daygrid-day-events,
#myReservationsCalendar .fc-daygrid-event-harness,
#myReservationsCalendar .fc-daygrid-event,
#myReservationsCalendar .fc-daygrid-event .fc-event-main {
  overflow: visible;
}

/* 自分の予約のビジュアル（淡い青の帯＋ピル状ラベル） */
#myReservationsCalendar .st-mine-event {
  background: rgba(33, 111, 219, 0.10);
  border: 1px solid #87b4f6;
  border-radius: 10px;
  z-index: 5;
}

/* タイトルラベル（折り返さず、はみ出し可） */
#myReservationsCalendar .st-minecell-label {
  display: inline-block;
  padding: 2px 10px;
  margin: 0 2px;
  white-space: nowrap;        /* 折り返さない */
  background: #fff;           /* 背景で読みやすく */
  color: #134a9c;
  border: 1px solid #216fdb;
  border-radius: 9999px;
  line-height: 1.2;
  box-shadow: 0 1px 1px rgba(0,0,0,.05);
}

/* 念のためタイトルコンテナの制限も解除 */
#myReservationsCalendar .fc-event-title,
#myReservationsCalendar .fc-event-title-container {
  overflow: visible;
  white-space: nowrap;
}

/* ブロック表示の最低高さだけ確保（細い線にならないように） */
#myReservationsCalendar .fc-daygrid-event.fc-daygrid-block-event {
  min-height: 1.6em;
}
